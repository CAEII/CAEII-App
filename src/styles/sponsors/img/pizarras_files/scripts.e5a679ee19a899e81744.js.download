!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).easytimer={})}(this,(function(t){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function r(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){var n,o,i;i=r[o=e],o in(n=t)?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function o(t,e,n){var r,o="";if((t="number"==typeof t?String(t):t).length>e)return t;for(r=0;r<e;r+=1)o+=String(n);return(o+t).slice(-o.length)}function i(){this.reset()}function s(){this.events={}}i.prototype.toString=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["hours","minutes","seconds"],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:":",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2;t=t||["hours","minutes","seconds"],e=e||":",n=n||2;var r,i=[];for(r=0;r<t.length;r+=1)void 0!==this[t[r]]&&i.push("secondTenths"===t[r]?this[t[r]]:o(this[t[r]],n,"0"));return i.join(e)},i.prototype.reset=function(){this.secondTenths=0,this.seconds=0,this.minutes=0,this.hours=0,this.days=0},s.prototype.on=function(t,e){var n=this;return Array.isArray(this.events[t])||(this.events[t]=[]),this.events[t].push(e),function(){return n.removeListener(t,e)}},s.prototype.removeListener=function(t,e){if(Array.isArray(this.events[t])){var n=this.events[t].indexOf(e);-1<n&&this.events[t].splice(n,1)}},s.prototype.emit=function(t){for(var e=this,n=arguments.length,r=new Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];Array.isArray(this.events[t])&&this.events[t].forEach((function(t){return t.apply(e,r)}))};var u="secondTenths",c="seconds",a="minutes",f="hours",h="days",d=[u,c,a,f,h],l={secondTenths:100,seconds:1e3,minutes:6e4,hours:36e5,days:864e5},p={secondTenths:10,seconds:60,minutes:60,hours:24};function v(t,e){return(t%e+e)%e}function y(){var t,n,o,y,m,b,g,w,O,j,T=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},A=new i,P=new i,E=new s,S=!1,D=!1,x={},V={detail:{timer:this}};function L(t,e){var n,r,o,i=P[e];return r=F(t,l[n=e]),o=p[n],P[n]=r,A[n]=n===h?Math.abs(r):v(0<=r?r:o-v(r,o),o),P[e]!==i}function M(){U(),A.reset(),P.reset()}function U(){clearInterval(t),t=void 0,D=S=!1}function k(e){X()?(O=I(),b=G(m.target)):q(e),function(){var e=l[n];R(C(Date.now()))||(t=setInterval(_,e),S=!0,D=!1)}()}function I(){return C(Date.now())-P.secondTenths*l[u]*o}function _(){var t=C(Date.now());!function(t){t[u]&&Q("secondTenthsUpdated",V),t[c]&&Q("secondsUpdated",V),t[a]&&Q("minutesUpdated",V),t[f]&&Q("hoursUpdated",V),t[h]&&Q("daysUpdated",V)}(z()),y(V.detail.timer),R(t)&&(J(),Q("targetAchieved",V))}function z(t){var e=0<arguments.length&&void 0!==t?t:C(Date.now()),n=0<o?e-O:O-e,r={};return r[u]=L(n,u),r[c]=L(n,c),r[a]=L(n,a),r[f]=L(n,f),r[h]=L(n,h),r}function C(t){return Math.floor(t/l[n])*l[n]}function R(t){return b instanceof Array&&j<=t}function q(t){n=function(t){if(function(t){return 0<=d.indexOf(t)}(t="string"==typeof t?t:c))return t;throw new Error("Error in precision parameter: ".concat(t," is not a valid value"))}((t=t||{}).precision),y="function"==typeof t.callback?t.callback:function(){},o=1==(w=!0===t.countdown)?-1:1,"object"===e(t.startValues)?(g=B(t.startValues),A.secondTenths=g[0],A.seconds=g[1],A.minutes=g[2],A.hours=g[3],A.days=g[4],P=H(g,P)):g=null,O=I(),z(),b="object"===e(t.target)?G(t.target):w?(t.target={seconds:0},G(t.target)):null,x={precision:n,callback:y,countdown:"object"===e(t)&&!0===t.countdown,target:b,startValues:g},m=t}function B(t){var n;if("object"===e(t))if(t instanceof Array){if(5!==t.length)throw new Error("Array size not valid");n=t}else{for(var r in t)if(d.indexOf(r)<0)throw new Error("Error in startValues or target parameter: ".concat(r," is not a valid input value"));n=[t.secondTenths||0,t.seconds||0,t.minutes||0,t.hours||0,t.days||0]}var o=n[0],i=n[1]+F(o,10),s=n[2]+F(i,60),u=n[3]+F(s,60),c=n[4]+F(u,24);return n[0]=o%10,n[1]=i%60,n[2]=s%60,n[3]=u%24,n[4]=c,n}function F(t,e){var n=t/e;return n<0?Math.ceil(n):Math.floor(n)}function G(t){if(t){var e=H(b=B(t));return j=O+e.secondTenths*l[u]*o,b}}function H(t,e){var n=e||{};return n.days=t[4],n.hours=24*n.days+t[3],n.minutes=60*n.hours+t[2],n.seconds=60*n.minutes+t[1],n.secondTenths=10*n.seconds+t[[0]],n}function J(){M(),Q("stopped",V)}function K(t,e){E.on(t,e)}function N(t,e){E.removeListener(t,e)}function Q(t,e){E.emit(t,e)}function W(){return S}function X(){return D}q(T),void 0!==this&&(this.start=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};t=r(r({},T),t),W()||(k(t),Q("started",V))},this.pause=function(){U(),D=!0,Q("paused",V)},this.stop=J,this.reset=function(){M(),k(m),Q("reset",V)},this.isRunning=W,this.isPaused=X,this.getTimeValues=function(){return A},this.getTotalTimeValues=function(){return P},this.getConfig=function(){return x},this.addEventListener=K,this.on=K,this.removeEventListener=N,this.off=N)}t.Timer=y,t.default=y,Object.defineProperty(t,"__esModule",{value:!0})}));